{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>Your Friends</h2>
    <div class="mb-3">
        <input type="text" class="form-control" placeholder="Search friends..." id="friend-search">
    </div>
    <ul class="list-group mb-4" id="friends-list">
    </ul>
    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Paste friend link here..." id="add-friend-link">
        <button class="btn btn-primary" type="button" id="add-friend-btn">Add Friend</button>
    </div>
    <div class="mb-3">
        <input type="text" class="form-control d-inline-block w-auto" value="{{ your_friend_link }}" id="your-friend-link" readonly>
        <button class="btn btn-outline-secondary" type="button" id="copy-link-btn">Copy Link</button>
    </div>
</div>
<script>
document.getElementById('friend-search').addEventListener('input', function() {
    let filter = this.value.toLowerCase();
    let items = document.querySelectorAll('#friends-list li');
    items.forEach(function(item) {
        let name = item.querySelector('span').textContent.toLowerCase();
        item.style.display = name.includes(filter) ? '' : 'none';
    });
});
document.getElementById('copy-link-btn').onclick = function() {
    let input = document.getElementById('your-friend-link');
    input.select();
    document.execCommand('copy');
};
</script>
{% endblock %}